# Mail Healthcheck Service - Environment Variables
# Copy this file to .env and fill in your values

# =============================================================================
# SERVER ROLES
# =============================================================================
# LOCAL_* = Your mail server (the one you're monitoring)
# EXT_*   = External test server (e.g., Gmail) used to verify mail delivery
# FWD_*   = Forwarding test server (optional, can be same as EXT_*)

# Server Configuration
PORT=3000
LOG_LEVEL=info

# Check Timing (in milliseconds)
LOGIN_INTERVAL=60000              # How often to run login check (default: 1 min)
LOGIN_STALE_INTERVAL=300000       # When login data becomes stale (default: 5 min)
ROUND_TRIP_INTERVAL=3600000       # How often to run roundtrip checks (default: 1 hour)
ROUND_TRIP_STALE_INTERVAL=7200000 # When roundtrip data becomes stale (default: 2 hours)
ROUND_TRIP_LAND_TIMEOUT=180000    # Max wait for test email (default: 3 min)
IMAP_POLL_EVERY_MS=3000           # IMAP poll interval (default: 3 sec)

# =============================================================================
# YOUR MAIL SERVER (The Server You're Monitoring)
# =============================================================================
LOCAL_SMTP_HOST=smtp.your-mail-server.com
LOCAL_SMTP_PORT=587
LOCAL_SMTP_SECURE=false           # Use "true" or "false" as string
LOCAL_SMTP_USER=monitor@your-mail-server.com
LOCAL_SMTP_FROM=monitor@your-mail-server.com

LOCAL_IMAP_HOST=imap.your-mail-server.com
LOCAL_IMAP_PORT=993
LOCAL_IMAP_SECURE=true
LOCAL_IMAP_USER=monitor@your-mail-server.com
LOCAL_IMAP_MAILBOX=INBOX

# =============================================================================
# EXTERNAL TEST SERVER (Separate Provider for Testing - e.g., Gmail)
# =============================================================================
EXT_SMTP_HOST=smtp.gmail.com
EXT_SMTP_PORT=587
EXT_SMTP_SECURE=false
EXT_SMTP_USER=test@gmail.com
EXT_SMTP_FROM=test@gmail.com

EXT_IMAP_HOST=imap.gmail.com
EXT_IMAP_PORT=993
EXT_IMAP_SECURE=true
EXT_IMAP_USER=test@gmail.com
EXT_IMAP_MAILBOX=INBOX

# =============================================================================
# FORWARDING TEST SERVER (Optional - Can Be Same as External)
# =============================================================================
FWD_IMAP_HOST=imap.gmail.com
FWD_IMAP_PORT=993
FWD_IMAP_SECURE=true
FWD_IMAP_USER=forwarding@gmail.com
FWD_IMAP_MAILBOX=INBOX

# =============================================================================
# TEST EMAIL ADDRESSES
# =============================================================================
# OUTBOUND_TO   = External address (receives mail FROM your server)
# INBOUND_TO    = Local address (receives mail ON your server)
# FWD_TO        = Forwarding address (ON your server, forwards to FWD_FINAL_TO)
# FWD_FINAL_TO  = Where forwarded mail ends up (external server)

OUTBOUND_TO=test@gmail.com
INBOUND_TO=recipient@your-mail-server.com
FWD_TO=forwarding@your-mail-server.com
FWD_FINAL_TO=test@gmail.com

# =============================================================================
# SECRETS
# =============================================================================
# Secrets Path (for Docker secrets, otherwise passwords below)
SECRET_BASE_PATH=/run/secrets

# Passwords (only if NOT using Docker secrets)
# Leave these commented if using Docker secrets
# LOCAL_SMTP_PASS=your-password
# LOCAL_IMAP_PASS=your-password
# EXT_SMTP_PASS=your-password
# EXT_IMAP_PASS=your-password
# FWD_IMAP_PASS=your-password
